/*! motioncontrol.js - v0.2.3
 *  Release on: 2014-12-29
 *  Copyright (c) 2014 St√©phane Bachelier
 *  Licensed MIT */
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.returnExportsGlobal=b()}):"object"==typeof exports?module.exports=b():a.motioncontrol=b()}(this,function(){"use strict";var a={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd",MSAnimation:"MSAnimationEnd"},b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},c=function(a){var b,c=document.createElement("fakeelement");for(b in a)if(void 0!==c.style[b])return a[b]},d=function(a){return a&&"function"==typeof a},e=function(a){return d(a)?a():a},f=function(){var d=function(a,b,c){for(var d in c)a.addEventListener(d,b,!1)},g=function(a,b,c){for(var d in c)a.removeEventListener(d,b,!1)};return function(h,i){var j,k={},l=i||{},m=!1!==l.timeout?l.timeout||1e3:!1,n=[c(b),c(a)],o=function(){n&&g(h,o,n),m&&clearTimeout(j),k&&(k.resolve(),k=null)},p=f.Promise||null!==typeof Promise&&Promise,q=p&&new p(function(a,b){k={resolve:a,reject:b}});n&&d(h,o,n),m&&(j=setTimeout(o,m));var r=null!==l.trigger&&void 0!==l.trigger?l.trigger:null;return r&&!1===e(r)&&o(),q}}();return f});