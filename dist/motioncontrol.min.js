/*! motioncontrol.js - v0.2.1
 *  Release on: 2014-12-29
 *  Copyright (c) 2014 St√©phane Bachelier
 *  Licensed MIT */
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.returnExportsGlobal=b()}):"object"==typeof exports?module.exports=b():a.motioncontrol=b()}(this,function(){"use strict";var a={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd",MSAnimation:"MSAnimationEnd"},b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},c=function(a){var b,c=document.createElement("fakeelement");for(b in a)if(void 0!==c.style[b])return a[b]},d=function(a){return a&&"function"==typeof a},e=function(){var f=function(a,b,c){for(var d in c)a.addEventListener(d,b,!1)},g=function(a,b,c){for(var d in c)a.removeEventListener(d,b,!1)};return function(h,i){var j,k={},l=i||{},m=l.trigger&&d(l.trigger)?l.trigger:null,n=l.timeout||1e3,o=[c(b),c(a)],p=function(){o&&g(h,p,o),clearTimeout(j),k&&(k.resolve(),k=null)},q=e.Promise||null!==typeof Promise&&Promise,r=q&&new q(function(a,b){k={resolve:a,reject:b}});return o&&f(h,p,o),j=setTimeout(p,n),m&&!1===m()&&p(),r}}();return e});