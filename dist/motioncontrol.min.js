/*! motioncontrol.js - v0.2.0
 *  Release on: 2014-12-29
 *  Copyright (c) 2014 St√©phane Bachelier
 *  Licensed MIT */
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.returnExportsGlobal=b()}):"object"==typeof exports?module.exports=b():a.motioncontrol=b()}(this,function(){"use strict";var a={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd",MSAnimation:"MSAnimationEnd"},b={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},c=function(a){var b,c=document.createElement("fakeelement");for(b in a)if(void 0!==c.style[b])return a[b]},d=function(a){return a&&"function"==typeof a},e=function(){var f=function(a,b,c){for(var d in c)a.addEventListener(d,b,!1)},g=function(a,b,c){for(var d in c)a.removeEventListener(d,b,!1)};return function(h,i){var j={},k=i||{},l=k.trigger&&d(k.trigger)?k.trigger:null,m=k.timeout||1e3,n=[c(b),c(a)],o=function(){n&&g(h,o,n),j&&(j.resolve(),j=null)},p=e.Promise||null!==typeof Promise&&Promise,q=p&&new p(function(a,b){j={resolve:a,reject:b}});return n&&f(h,o,n),setTimeout(o,m),l&&l(),q}}();return e});